<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/style.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.8/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.8/dist/index.js"></script><script>(()=>{setTimeout(()=>{const{markmap:x,mm:K}=window,P=new x.Toolbar;P.attach(K);const F=P.render();F.setAttribute("style","position:absolute;bottom:20px;right:20px"),document.body.append(F)})})()</script><script>((b,L,T,D)=>{const H=b();window.mm=H.Markmap.create("svg#mindmap",(L||H.deriveOptions)(D),T)})(()=>window.markmap,null,{"content":"Dockerfile para Tomcat (Genérico)","children":[{"content":"Imagem Base","children":[{"content":"Define a imagem base do Tomcat com JDK 11","children":[{"content":"<code>FROM tomcat:9.0-jdk11-openjdk</code>","children":[],"payload":{"tag":"li","lines":"4,5"}},{"content":"<strong>Justificativa:</strong> Fornece um ambiente Tomcat pronto para uso com Java 11.","children":[],"payload":{"tag":"li","lines":"5,7"}}],"payload":{"tag":"li","lines":"3,7"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"Variáveis de Ambiente (Build)","children":[{"content":"Define variáveis que podem ser passadas durante o build:","children":[{"content":"<code>ARG VERSION</code>","children":[{"content":"<strong>Justificativa:</strong> Permite definir a versão da imagem.","children":[],"payload":{"tag":"li","lines":"10,11"}}],"payload":{"tag":"li","lines":"9,11"}},{"content":"<code>ARG VERSION_FILE</code>","children":[{"content":"<strong>Justificativa:</strong> Permite definir o arquivo onde a versão será gravada.","children":[],"payload":{"tag":"li","lines":"12,13"}}],"payload":{"tag":"li","lines":"11,13"}},{"content":"<code>ARG WAR_FILE</code>","children":[{"content":"<strong>Justificativa:</strong> Define o caminho do arquivo WAR da aplicação.","children":[],"payload":{"tag":"li","lines":"14,15"}}],"payload":{"tag":"li","lines":"13,15"}},{"content":"<code>ARG TOMCAT_CONFIG_DIR</code>","children":[{"content":"<strong>Justificativa:</strong> Define o caminho do diretório com configurações do tomcat.","children":[],"payload":{"tag":"li","lines":"16,17"}}],"payload":{"tag":"li","lines":"15,17"}},{"content":"<code>ARG APPLICATION_TYPE</code>:","children":[{"content":"<strong>Justificativa:</strong> Define uma variável para identificar o tipo da aplicação.","children":[],"payload":{"tag":"li","lines":"18,20"}}],"payload":{"tag":"li","lines":"17,20"}}],"payload":{"tag":"li","lines":"8,20"}}],"payload":{"tag":"h2","lines":"7,8"}},{"content":"Exposição da Porta","children":[{"content":"Define a porta que o Tomcat usará para receber requisições.","children":[{"content":"<code>EXPOSE 8080</code>","children":[],"payload":{"tag":"li","lines":"22,23"}},{"content":"<strong>Justificativa:</strong> Permite o acesso à aplicação na porta 8080.","children":[],"payload":{"tag":"li","lines":"23,25"}}],"payload":{"tag":"li","lines":"21,25"}}],"payload":{"tag":"h2","lines":"20,21"}},{"content":"Timezone","children":[{"content":"Define o timezone do container para \"America/Sao_Paulo\".","children":[{"content":"<code>ENV TZ America/Sao_Paulo</code>","children":[],"payload":{"tag":"li","lines":"27,28"}},{"content":"<strong>Justificativa:</strong> Garante que o fuso horário esteja correto.","children":[],"payload":{"tag":"li","lines":"28,30"}}],"payload":{"tag":"li","lines":"26,30"}}],"payload":{"tag":"h2","lines":"25,26"}},{"content":"Cria arquivo de versão","children":[{"content":"Adiciona o script que gera arquivo com a versão do container","children":[{"content":"<code>RUN set -x &amp;&amp; echo ${VERSION} &gt; /${VERSION_FILE}</code><br>\n-  <strong>Justificativa:</strong> Cria um arquivo com a versão da imagem.","children":[],"payload":{"tag":"li","lines":"32,35"}}],"payload":{"tag":"li","lines":"31,35"}}],"payload":{"tag":"h2","lines":"30,31"}},{"content":"Checagem da Variável APPLICATION_TYPE","children":[{"content":"Verifica a existência da variável <code>APPLICATION_TYPE</code>.","children":[{"content":"<code>RUN if [ -z \"${APPLICATION_TYPE}\" ]; then ... fi</code>","children":[],"payload":{"tag":"li","lines":"37,38"}},{"content":"<strong>Justificativa:</strong> Emite um aviso se a variável <code>APPLICATION_TYPE</code> não for definida, pois pode ser necessária em alguns projetos.","children":[],"payload":{"tag":"li","lines":"38,40"}}],"payload":{"tag":"li","lines":"36,40"}}],"payload":{"tag":"h2","lines":"35,36"}},{"content":"Cópia do Arquivo WAR (Condicional)","children":[{"content":"Copia o arquivo WAR para o diretório webapps do Tomcat (se a variável WAR_FILE estiver definida):","children":[{"content":"<code>RUN if [ -n \"${WAR_FILE}\" ]; then ... fi</code>","children":[],"payload":{"tag":"li","lines":"42,43"}},{"content":"<code>COPY ${WAR_FILE} /usr/local/tomcat/webapps/ROOT.war</code>","children":[],"payload":{"tag":"li","lines":"43,44"}},{"content":"\n<pre data-lines=\"44,45\"><code>`else echo \"AVISO: Variável WAR_FILE não definida...`: Caso a variável não seja definida, um aviso é gerado.\n</code></pre>","children":[],"payload":{"tag":"li","lines":"44,45"}},{"content":"<strong>Justificativa:</strong> A cópia do arquivo <code>.war</code> é opcional e flexível, permitindo a customização do projeto.","children":[],"payload":{"tag":"li","lines":"45,47"}}],"payload":{"tag":"li","lines":"41,47"}}],"payload":{"tag":"h2","lines":"40,41"}},{"content":"Configurações do Tomcat (Opcional)","children":[{"content":"Permite copiar configurações adicionais do tomcat, caso a variável <code>TOMCAT_CONFIG_DIR</code> seja definida:","children":[{"content":"<code>RUN if [ -n \"${TOMCAT_CONFIG_DIR}\" ]; then ... fi</code>","children":[],"payload":{"tag":"li","lines":"49,50"}},{"content":"<code>COPY ${TOMCAT_CONFIG_DIR} /usr/local/tomcat/conf</code>","children":[],"payload":{"tag":"li","lines":"50,51"}},{"content":"<strong>Justificativa:</strong> Permite adicionar arquivos de configurações do tomcat, caso seja necessário.","children":[],"payload":{"tag":"li","lines":"51,53"}}],"payload":{"tag":"li","lines":"48,53"}}],"payload":{"tag":"h2","lines":"47,48"}},{"content":"Ponto de Entrada (Opcional)","children":[{"content":"Deixa espaço para que seja customizado um entrypoint na sua aplicação.","children":[{"content":"<code># COPY entrypoint.sh /app</code>","children":[],"payload":{"tag":"li","lines":"55,56"}},{"content":"<code># RUN chmod +x /app/entrypoint.sh</code>","children":[],"payload":{"tag":"li","lines":"56,57"}},{"content":"<code># ENTRYPOINT [\"/app/entrypoint.sh\"]</code>","children":[{"content":"<strong>Justificativa:</strong> Deixa a cargo do projeto, a customização da forma de executar a sua aplicação.","children":[],"payload":{"tag":"li","lines":"58,59"}}],"payload":{"tag":"li","lines":"57,59"}}],"payload":{"tag":"li","lines":"54,59"}}],"payload":{"tag":"h2","lines":"53,54"}}],"payload":{"tag":"h1","lines":"0,1"}},null)</script>
</body>
</html>
